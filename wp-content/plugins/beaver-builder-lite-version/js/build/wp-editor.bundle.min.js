(()=>{var e={6631:()=>{var e=wp.data.registerStore,t={launching:!1};e("fl-builder",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1?arguments[1]:void 0;if("SET_LAUNCHING"===o.type)e.launching=o.launching;return e},actions:{setLaunching:function(e){return{type:"SET_LAUNCHING",launching:e}}},selectors:{isLaunching:function(e){return e.launching}}})}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(window||{}).wp,i=void 0===r?{}:r,c=i.data,u=void 0===c?{}:c,l=i.blocks,a=void 0===l?{}:l,s=u.dispatch,f=u.select,p=a.createBlock,d=s("core/block-editor").replaceBlock;if(!0!==(null!==o&&"object"===e(o)&&null!==o.clientId&&"string"==typeof o.clientId))return!1;var b,y,v,h,m,g,w=f("core/block-editor").getBlock(o.clientId);if(!0!=!w){var k=w.clientId,B=void 0===k?"":k,P=w.isValid,O=void 0===P||P,j=w.innerBlocks,S=void 0===j?[]:j,E=null!==S&&Array.isArray(S)&&S.length>=1;if(!0!==O)d(B,(y=(b=w).name,v=void 0===y?"":y,h=b.attributes,m=void 0===h?{}:h,g=b.innerBlocks,p(v,m,void 0===g?[]:g))),!0===n&&i.data.dispatch("core/editor").savePost();E&&S.forEach((function(){t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n)}))}return!1},n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=(window||{}).wp,n=void 0===o?{}:o,r=n.domReady,i=n.data,c=(void 0===i?{}:i).select;r((function(){setTimeout((function(){var o=c("core/block-editor").getBlocks();!0===(Array.isArray(o)&&o.length>=1)&&o.forEach((function(){t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e)}))}),1)}))};var r=(window||{}).wp,i=void 0===r?{}:r,c=i.domReady,u=i.data;jQuery(document).on("fl-builder-fix-blocks",(function(){!0===(!0===(!0===jQuery("body").hasClass("post-php")&&jQuery(".block-editor").length>=1&&jQuery("body").hasClass("fl-builder-blocks"))&&!0===(void 0!==c&&void 0!==u))&&n(!1)}));o(6631);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function f(e,t,o){return t=d(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,o||[],d(e).constructor):t.apply(e,o))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var y=FLBuilderConfig,v=y.builder,h=y.strings,m=y.urls,g=wp.blocks,w=g.rawHandler,k=g.serialize,B=wp.components,P=B.Button,O=B.Placeholder,j=B.Spinner,S=wp.compose.compose,E=wp.data,C=E.withDispatch,L=E.withSelect,T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),o=t,n=[{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.toggleEditor("enable")}},{key:"render",value:function(){var e,t,o,n=this.props,r=n.blockCount,i=(n.onReplace,n.isLaunching);return 1===r?(e=v.access?h.launch:h.view,t=this.launchBuilder.bind(this)):(e=h.convert,t=this.convertToBuilder.bind(this)),o=v.enabled?h.active:h.description,!1===v.showui?"":React.createElement(O,{key:"placeholder",instructions:o,label:h.title,className:"fl-builder-layout-launch-view"},i&&React.createElement(j,null),!i&&React.createElement(P,{isLarge:!0,isPrimary:!0,type:"submit",onClick:t},e),!i&&React.createElement(P,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},h.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,o="fl-builder-layout-enabled";"enable"===e?t.contains(o)&&t.remove(o):t.contains(o)||t.add(o)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),wp.data.select("core/editor").getEditedPostAttribute("title")||wp.data.dispatch("core/editor").editPost({title:wp.i18n.__("(no title)")}),t().then((function(){setTimeout((function(){window.top.location.href=v.access?m.edit:m.view}),2e3)}))}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,o=e.blocks,n=e.setAttributes,r=e.removeBlocks,i=k(o),c=o.map((function(e){return e.clientId})).filter((function(e){return e!==t}));n({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,o=e.clientId,n=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(h.warning)||(t.content?n([o],w({HTML:t.content,mode:"BLOCKS"})):r([]))}}],n&&a(o.prototype,n),r&&a(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(wp.element.Component),_=S(C((function(e,t){var o=e("core/block-editor"),n=e("core/editor"),r=e("fl-builder");return{removeBlocks:o.removeBlocks,replaceBlocks:o.replaceBlocks,savePost:n.savePost,setLaunching:r.setLaunching}})),L((function(e){var t=e("core/block-editor"),o=(e("core/editor"),e("fl-builder"));return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isLaunching:o.isLaunching()}})))(T);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function N(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}function D(e,t,o){return t=A(t),function(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,o||[],A(e).constructor):t.apply(e,o))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}var M=FLBuilderConfig,H=M.builder,Q=M.strings,U=M.urls,G=wp.blocks,z=G.rawHandler,K=G.serialize,W=wp.components,V=W.Button,q=W.Placeholder,J=W.Spinner,X=wp.compose.compose,Y=wp.data,Z=Y.subscribe,$=Y.withDispatch,ee=Y.withSelect,te=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=D(this,t,arguments)).unsubscribe=Z(e.storeDidUpdate.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),o=t,n=[{key:"storeDidUpdate",value:function(){var e=this.props,t=e.isLaunching,o=e.isSavingPost;t&&!o&&(this.unsubscribe(),this.redirectToBuilder())}},{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.toggleEditor("enable")}},{key:"render",value:function(){var e,t,o,n=this.props,r=n.blockCount,i=(n.onReplace,n.isLaunching);return 1===r?(e=H.access?Q.launch:Q.view,t=this.launchBuilder.bind(this)):(e=Q.convert,t=this.convertToBuilder.bind(this)),o=H.enabled?Q.active:Q.description,!1===H.showui?"":React.createElement(q,{key:"placeholder",instructions:o,icon:"welcome-widgets-menus",label:Q.title,className:"fl-builder-layout-launch-view"},i&&React.createElement(J,null),!i&&React.createElement(V,{isLarge:!0,isPrimary:!0,type:"submit",onClick:t},e),!i&&React.createElement(V,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},Q.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,o="fl-builder-layout-enabled";"enable"===e?t.contains(o)&&t.remove(o):t.contains(o)||t.add(o)}},{key:"redirectToBuilder",value:function(){window.location.href=H.access?U.edit:U.view}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,o=e.blocks,n=e.setAttributes,r=e.removeBlocks,i=K(o),c=o.map((function(e){return e.clientId})).filter((function(e){return e!==t}));n({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,o=e.clientId,n=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(Q.warning)||(t.content?n([o],z({HTML:t.content,mode:"BLOCKS"})):r([]))}}],n&&I(o.prototype,n),r&&I(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(wp.element.Component),oe=X($((function(e,t){var o=e("core/editor"),n=e("fl-builder");return{savePost:o.savePost,removeBlocks:o.removeBlocks,replaceBlocks:o.replaceBlocks,setLaunching:n.setLaunching}})),ee((function(e){var t=e("core/editor"),o=e("fl-builder");return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isSavingPost:t.isSavingPost(),isLaunching:o.isLaunching()}})))(te),ne=FLBuilderConfig,re=ne.builder,ie=ne.strings,ce=FLBuilderConfig.wp.version,ue=wp.blocks.registerBlockType,le=wp.element.RawHTML;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fe(n.key),n)}}function fe(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}function pe(e,t,o){return t=be(t),function(e,t){if(t&&("object"==ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,de()?Reflect.construct(t,o||[],be(e).constructor):t.apply(e,o))}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}(re.access&&re.unrestricted||re.enabled)&&ue("fl-builder/layout",{title:ie.title,description:ie.description,icon:"welcome-widgets-menus",category:"layout",useOnce:!0,supports:{customClassName:!1,className:!1,html:!1},attributes:{content:{type:"string",source:"html"}},edit:parseFloat(ce)<5.3?oe:_,save:function(e){var t=e.attributes;return React.createElement(le,null,t.content)}});var ve=FLBuilderConfig,he=ve.builder,me=ve.strings,ge=ve.urls,we=wp.blocks,ke=we.createBlock,Be=we.serialize,Pe=(wp.components.Button,wp.compose.compose),Oe=wp.data,je=Oe.withDispatch,Se=Oe.withSelect,Ee=wp.editPost.PluginMoreMenuItem,Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(t,e),o=t,(n=[{key:"render",value:function(){return this.hasBuilderBlock()&&(jQuery("body").addClass("fl-builder-blocks"),jQuery(document).trigger("fl-builder-fix-blocks")),React.createElement(Ee,{onClick:this.menuItemClicked.bind(this)},this.hasBuilderBlock()?me.launch:me.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter((function(e){return"fl-builder/layout"===e.name})).length}},{key:"menuItemClicked",value:function(){this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,o=e.insertBlock,n=e.removeBlocks,r=t.map((function(e){return e.clientId})),i=Be(t).replace(/<!--(.*?)-->/g,"");o(ke("fl-builder/layout",{content:i}),0),n(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),wp.data.select("core/editor").getEditedPostAttribute("title")||wp.data.dispatch("core/editor").editPost({title:wp.i18n.__("(no title)")}),t().then((function(){setTimeout((function(){window.location.href=he.access?ge.edit:ge.view}),2e3)}))}}])&&se(o.prototype,n),r&&se(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(wp.element.Component),Le=Pe(je((function(e,t){var o=e("core/block-editor"),n=e("core/editor"),r=e("fl-builder");return{insertBlock:o.insertBlock,removeBlocks:o.removeBlocks,savePost:n.savePost,setLaunching:r.setLaunching}})),Se((function(e){return{blocks:e("core/block-editor").getBlocks()}})))(Ce);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function _e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Re(n.key),n)}}function Re(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:t+""}function Ie(e,t,o){return t=De(t),function(e,t){if(t&&("object"==Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ne()?Reflect.construct(t,o||[],De(e).constructor):t.apply(e,o))}function Ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ne=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}var Ae=FLBuilderConfig.strings,Fe=wp.blocks,Me=Fe.createBlock,He=Fe.serialize,Qe=(wp.components.Button,wp.compose.compose),Ue=wp.data,Ge=Ue.withDispatch,ze=Ue.withSelect,Ke=wp.editPost.PluginSidebarMoreMenuItem,We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ie(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(t,e),o=t,(n=[{key:"render",value:function(){return React.createElement(Ke,null,React.createElement("div",{className:"fl-builder-plugin-sidebar-button",onClick:this.menuItemClicked.bind(this)}),this.hasBuilderBlock()?Ae.launch:Ae.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter((function(e){return"fl-builder/layout"===e.name})).length}},{key:"menuItemClicked",value:function(){var e=this.props.closeGeneralSidebar;this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder(),setTimeout(e,100)}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,o=e.insertBlock,n=e.removeBlocks,r=t.map((function(e){return e.clientId})),i=He(t).replace(/<!--(.*?)-->/g,"");o(Me("fl-builder/layout",{content:i}),0),n(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}}])&&_e(o.prototype,n),r&&_e(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,n,r}(wp.element.Component),Ve=Qe(Ge((function(e,t){var o=e("core/editor"),n=e("core/edit-post"),r=e("fl-builder");return{savePost:o.savePost,insertBlock:o.insertBlock,removeBlocks:o.removeBlocks,closeGeneralSidebar:n.closeGeneralSidebar,setLaunching:r.setLaunching}})),ze((function(e){return{blocks:e("core/editor").getBlocks()}})))(We),qe=FLBuilderConfig.wp.version;(0,wp.plugins.registerPlugin)("fl-builder-plugin-sidebar",{icon:"welcome-widgets-menus",render:parseFloat(qe)<5.3?Ve:Le})})()})();