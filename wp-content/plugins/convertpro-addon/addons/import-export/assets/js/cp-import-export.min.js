!function(e){"use strict";var o,i="",p=(_wpPluploadSettings.defaults.multipart_params.admin_page="import",{init:function(){e("body");i=e(".cp-import-overlay"),e(document).on("click","#cp-edit-dropdown a.cp-export-action",this._export),e(document).on("click",".cp-edit-settings",this._assignID),e(document).on("click",".cp-import-btn",this._import)},_import:function(t){t.preventDefault(),(o=wp.media.frames.file_frame=wp.media({title:"Upload Your Exported file",button:{text:"Upload"},library:{type:"application/zip"},multiple:!1})).on("select",function(){var t=o.state().get("selection").first().toJSON();jQuery(".message");i.show(),jQuery("body").css("overflow","hidden"),p.ajaxCall({action:"cp_import_design",security:jQuery("#cp_import_popup_nonce").val(),file:t},p._importComplete)}),o&&o.open()},_importComplete:function(t){console.log(t),e("body").addClass("cp-loaded"),t.data.error||(window.location=t.data.edit_url)},_export:function(){e(".cp_export_form").submit()},_assignID:function(){var t=e(this),o=e("#cp-edit-dropdown"),i=t.closest(".cp-row").data("id");console.log(t),void 0!==i&&o.find(".cp_export_form input[name=popup_id]").val(i)},ajaxCall:function(t,o){e.ajax({data:t,action:t.action,url:cp_import_export.url,success:o,success:o,method:"post"})}});e(function(){p.init()})}(jQuery);